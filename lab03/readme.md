# Lab03: Автоматизация выполнения скриптов с помощью Cron в Docker

## Цель
Изучить, как настроить планировщик задач (cron) для автоматизации выполнения скриптов внутри контейнера Docker.

## Как собрать и запустить контейнер
1. Убедитесь, что Docker и Docker Compose установлены.
2. Перейдите в директорию `lab03`.
3. Соберите и запустите контейнер с помощью следующей команды:

```bash

docker-compose up --build

```

Это соберёт образ Docker из `Dockerfile` и запустит контейнер, запустив cron в foreground-режиме.

## Как проверить выполнение задач Cron
- Просмотрите логи контейнера, чтобы увидеть активность cron и мониторинг логов:

```bash

docker logs cron-container

```

- Чтобы проверить содержимое `/var/log/cron.log` внутри контейнера (куда записываются выходные данные задач cron):

```bash

docker exec -it cron-container cat /var/log/cron.log

```

- Примечание: Задачи Cron выполняются в запланированное время (ежедневно в 6:00 утра и еженедельно по пятницам в 17:00). Для тестирования вы можете временно изменить расписание в файле `cronjob` или использовать инструменты вроде `faketime` (не включены здесь).

## Структура проекта и назначение файлов
- **currency_exchange_rate.py**: Python-скрипт, скопированный из lab02, отвечающий за получение курсов обмена валют на основе предоставленных аргументов (например, базовая валюта, целевая валюта и период времени).
- **cronjob**: Файл конфигурации для задач cron, определяющий расписания для запуска скрипта `currency_exchange_rate.py` и перенаправление вывода в `/var/log/cron.log`.
- **Dockerfile**: Определяет процесс сборки образа Docker, включая базовый образ, установку зависимостей, копирование файлов и настройку точки входа.
- **entrypoint.sh**: Shell-скрипт, который настраивает среду, создаёт файл логов, мониторит логи и запускает демон cron при запуске контейнера.
- **docker-compose.yml**: Оркестрирует сборку и запуск контейнера Docker с использованием `Dockerfile`.
- **readme.md**: Этот файл документации, описывающий настройку, использование и структуру.