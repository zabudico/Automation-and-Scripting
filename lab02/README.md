# IW02: Creating a Python Script to Interact with an API

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Web API —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ Python

## –í—ã–ø–æ–ª–Ω–∏–ª

- Zabudico Alexandr I-2302
- –î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 28.09.2025


## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ Web API. 
–°–∫—Ä–∏–ø—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º API —Å–µ—Ä–≤–∏—Å–æ–º, –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫—É—Ä—Å–∞—Ö –≤–∞–ª—é—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –¥–∞—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è
–ù–∞—É—á–∏—Ç—å—Å—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤–µ–±-API —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ Python.

## –ó–∞–¥–∞—á–∞
–í  `automation` –ø—Ä–æ–µ–∫—Ç–µ —Å–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É —Å –∏–º–µ–Ω–µ–º  `lab02`. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ —Å –∏–º–µ–Ω–µ–º  `lab02`. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º  `currency_exchange_rate.py`.

–ù–∞–ø–∏—à–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ Python ( `currency_exchange_rate.py`), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å API —Å–µ—Ä–≤–∏—Å–∞. –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. –ü–æ–ª—É—á–∏—Ç–µ –æ–±–º–µ–Ω–Ω—ã–π –∫—É—Ä—Å –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –¥—Ä—É–≥–æ–π –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∞—Ç—É. –í–∞–ª—é—Ç—ã –∏ –¥–∞—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –ò–º—è —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –≤–∞–ª—é—Ç—ã –∏ –¥–∞—Ç—É –∑–∞–ø—Ä–æ—Å–∞. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –≤  data –∫–∞—Ç–∞–ª–æ–≥–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –µ—Å–ª–∏ –æ–Ω –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã). –í—ã–≤–æ–¥–∏—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏—Ö –≤ —Ñ–∞–π–ª –∂—É—Ä–Ω–∞–ª–∞  error.log –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∑–∞–ø—É—Å—Ç–∏–≤ –µ–≥–æ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö: —Å  2025-01-01 –ø–æ  2025-09-15.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–∞—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≤–∞–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–µ (–Ω–µ –º–µ–Ω–µ–µ 5 –¥–∞—Ç —Å —Ä–∞–≤–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏).

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª  readme.md –∏ –æ–ø–∏—à–∏—Ç–µ:
- –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞;
- –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–º–∞–Ω–¥;
- –ö–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω —Å–∫—Ä–∏–ø—Ç (–æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ª–æ–≥–∏–∫–∞).

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç, –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –∫ —ç—Ç–æ–º—É –∑–∞–¥–∞–Ω–∏—é, –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –µ–≥–æ –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å, —Å–ª–µ–¥—É—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤  README.md —Ñ–∞–π–ª–µ.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lab02/
‚îú‚îÄ‚îÄ currency_exchange_rate.py    # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ test_multiple_dates.py       # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ error.log                    # –õ–æ–≥ –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ sample.env                   # –û–±—Ä–∞–∑–µ—Ü –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ data/                        # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏
    ‚îú‚îÄ‚îÄ EUR_RON_2025-05-31.json
    ‚îú‚îÄ‚îÄ EUR_RON_2025-07-15.json
    ‚îú‚îÄ‚îÄ EUR_USD_2025-02-20.json
    ‚îú‚îÄ‚îÄ EUR_USD_2025-03-15.json
    ‚îú‚îÄ‚îÄ MDL_EUR_2025-02-28.json
    ‚îî‚îÄ‚îÄ MDL_USD_2025-09-08.json
    ‚îú   ...
    ‚îî‚îÄ‚îÄ USD_MDL_2025-05-01.json
```

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

### ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- –°–∫–∞—á–∞–Ω –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω –ø—Ä–æ–µ–∫—Ç `lab02prep.zip`.
- –ó–∞–ø—É—â–µ–Ω API —Å–µ—Ä–≤–∏—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker, —Å–ª–µ–¥—É—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º: 
- –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`.

  <img width="548" height="153" alt="image" src="https://github.com/user-attachments/assets/4b9da6d7-95dd-4539-b62b-f0c19d1315c4" />


### ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –°–æ–∑–¥–∞–Ω–∞ –≤–µ—Ç–∫–∞ `lab02` –≤ –ø—Ä–æ–µ–∫—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.
- –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `lab02`.
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `currency_exchange_rate.py`.

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–∞

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
–°–∫—Ä–∏–ø—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
- –ò—Å—Ö–æ–¥–Ω–∞—è –≤–∞–ª—é—Ç–∞
- –¶–µ–ª–µ–≤–∞—è –≤–∞–ª—é—Ç–∞
- –î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ì–ì–ì–ì-–ú–ú-–î–î

```bash
python currency_exchange_rate.py USD EUR 2025-01-01
```

<img width="1773" height="583" alt="image" src="https://github.com/user-attachments/assets/88b619a2-1b1c-4921-90a8-53888d349771" />


#### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `data/`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤: `{–≤–∞–ª—é—Ç–∞1}_{–≤–∞–ª—é—Ç–∞2}_{–¥–∞—Ç–∞}.json`
- –ü—Ä–∏–º–µ—Ä: data/USD_EUR_2025-01-01.json

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í—ã–≤–æ–¥ –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª—å
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ —Ñ–∞–π–ª `error.log`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫:
  - –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API)
  - –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã)
  - –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞—Ç—ã (–≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
  - –û—à–∏–±–∫–∏ API

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å 6 –¥–∞—Ç–∞–º–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 2025-01-01 - 2025-09-15 —Å —Ä–∞–≤–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏:

| ‚Ññ | –î–∞—Ç–∞ | –í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞ | –ò–Ω—Ç–µ—Ä–≤–∞–ª |
|---|------|---------------|----------|
| 1 | 2025-01-01 | USD ‚Üí EUR | –ë–∞–∑–æ–≤–∞—è –¥–∞—Ç–∞ |
| 2 | 2025-02-20 | EUR ‚Üí USD | 50 –¥–Ω–µ–π |
| 3 | 2025-04-11 | USD ‚Üí MDL | 51 –¥–µ–Ω—å |
| 4 | 2025-05-31 | EUR ‚Üí RON | 50 –¥–Ω–µ–π |
| 5 | 2025-07-20 | USD ‚Üí EUR | 50 –¥–Ω–µ–π |
| 6 | 2025-09-08 | MDL ‚Üí USD | 50 –¥–Ω–µ–π |


```bash
# 1. –ù–µ–≤–µ—Ä–Ω–∞—è –≤–∞–ª—é—Ç–∞ (–¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ error.log)
python currency_exchange_rate.py XXX USD 2025-01-01

# 2. –ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞ (–¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ error.log)  
python currency_exchange_rate.py USD EUR 2024-12-31

# 3. –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã (–¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ error.log)
python currency_exchange_rate.py USD EUR 2025/01/01

# 4. –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–∞–ª—é—Ç—ã (–¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ error.log)
python currency_exchange_rate.py USD USD 2025-01-01

# 5. –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
python currency_exchange_rate.py USD EUR 2025-01-01
```

<img width="1405" height="224" alt="image" src="https://github.com/user-attachments/assets/7e633884-1391-460c-9994-37b57ea530cf" />


```bash

C:\Users\User\Desktop\Automation-and-Scripting\lab02>python currency_exchange_rate.py XXX USD 2025-01-01
=== Currency Exchange Rate Script ===
Parameters: XXX -> USD on 2025-01-01
Supported currencies: MDL, USD, EUR, RON, RUS, UAH

2025-09-28 21:28:50,578 - ERROR - Invalid source currency: XXX. Available: ['MDL', 'USD', 'EUR', 'RON', 'RUS', 'UAH']
[ERROR] Invalid source currency: XXX. Available: ['MDL', 'USD', 'EUR', 'RON', 'RUS', 'UAH']

C:\Users\User\Desktop\Automation-and-Scripting\lab02>python currency_exchange_rate.py USD EUR 2024-12-31
=== Currency Exchange Rate Script ===
Parameters: USD -> EUR on 2024-12-31
Supported currencies: MDL, USD, EUR, RON, RUS, UAH

2025-09-28 21:28:54,782 - ERROR - Date 2024-12-31 is out of range. Must be between 2025-01-01 and 2025-09-15
[ERROR] Date 2024-12-31 is out of range. Must be between 2025-01-01 and 2025-09-15

C:\Users\User\Desktop\Automation-and-Scripting\lab02>python currency_exchange_rate.py USD EUR 2025/01/01
=== Currency Exchange Rate Script ===
Parameters: USD -> EUR on 2025/01/01
Supported currencies: MDL, USD, EUR, RON, RUS, UAH

2025-09-28 21:28:57,198 - ERROR - Invalid date format: 2025/01/01. Use YYYY-MM-DD
[ERROR] Invalid date format: 2025/01/01. Use YYYY-MM-DD

C:\Users\User\Desktop\Automation-and-Scripting\lab02>
C:\Users\User\Desktop\Automation-and-Scripting\lab02>python currency_exchange_rate.py USD USD 2025-01-01
=== Currency Exchange Rate Script ===
Parameters: USD -> USD on 2025-01-01
Supported currencies: MDL, USD, EUR, RON, RUS, UAH

2025-09-28 21:29:03,646 - ERROR - Source and target currencies cannot be the same: USD
[ERROR] Source and target currencies cannot be the same: USD

C:\Users\User\Desktop\Automation-and-Scripting\lab02>python currency_exchange_rate.py USD EUR 2025-01-01
=== Currency Exchange Rate Script ===
Parameters: USD -> EUR on 2025-01-01
Supported currencies: MDL, USD, EUR, RON, RUS, UAH

Requesting rate: USD -> EUR for 2025-01-01

=== Exchange Rate ===
From: USD
To: EUR
Date: 2025-01-01
Rate: 1.0449967801462194
[SUCCESS] Data saved to: data\USD_EUR_2025-01-01.json

[SUCCESS] Operation completed successfully!

C:\Users\User\Desktop\Automation-and-Scripting\lab02>

```


### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `readme.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º:
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`pip install requests`)
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞
- –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞

```python
def get_exchange_rate(from_currency, to_currency, date)
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç API

def validate_date(date_string)
    # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

def validate_currencies(from_currency, to_currency)
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç

def save_to_file(data, from_currency, to_currency, date)
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON —Ñ–∞–π–ª

def setup_logging()
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```bash
python currency_exchange_rate.py USD EUR 2025-01-01
```

**–í—ã–≤–æ–¥:**
```
=== Currency Exchange Rate Script ===
Parameters: USD -> EUR on 2025-01-01
Requesting rate: USD -> EUR for 2025-01-01

=== Exchange Rate ===
From: USD
To: EUR
Date: 2025-01-01
Rate: 1.0449967801462194
[SUCCESS] Data saved to: data/USD_EUR_2025-01-01.json

[SUCCESS] Operation completed successfully!
```

<img width="1773" height="583" alt="image" src="https://github.com/user-attachments/assets/3dfebb9c-704a-48a8-a26f-bd4400ff505e" />


## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl:
```bash
# –°–ø–∏—Å–æ–∫ –≤–∞–ª—é—Ç
curl "http://localhost:8080/?currencies" -X POST -d "key=myapi123"
# –û—Ç–≤–µ—Ç: {"error":"","data":["MDL","USD","EUR","RON","RUS","UAH"]}

<img width="1788" height="168" alt="image" src="https://github.com/user-attachments/assets/e7760afd-0f33-4f0e-931e-d6ceb510378d" />


# –ö—É—Ä—Å –æ–±–º–µ–Ω–∞
curl "http://localhost:8080/?from=USD&to=EUR&date=2025-01-01" -X POST -d "key=myapi123"
# –û—Ç–≤–µ—Ç: {"error":"","data":{"from":"USD","to":"EUR","rate":1.0449967801462194,"date":"2025-01-01"}}
```

<img width="1779" height="173" alt="image" src="https://github.com/user-attachments/assets/38ae2da3-143d-4633-8a27-3443193a34a7" />


### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
```bash
# –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á
curl "http://localhost:8080/?currencies" -X POST -d "key=wrongkey"
# –û—Ç–≤–µ—Ç: {"error":"Invalid API key","data":[]}

<img width="1783" height="173" alt="image" src="https://github.com/user-attachments/assets/35ace343-c7db-4213-b697-3806dc550940" />


# –ù–µ–≤–µ—Ä–Ω–∞—è –≤–∞–ª—é—Ç–∞
curl "http://localhost:8080/?from=XXX&to=YYY&date=2025-01-01" -X POST -d "key=myapi123"
# –û—Ç–≤–µ—Ç: {"error":"The currency XXX is unknown","data":[]}
```

<img width="1778" height="169" alt="image" src="https://github.com/user-attachments/assets/0be9d601-fabe-4b53-9919-9b97e576c088" />


# üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Python 3.6+** - –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ requests** - –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- **Docker –∏ Docker Compose** - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API —Å–µ—Ä–≤–∏—Å–∞

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞

### 1. –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–∏—Å–∞

**–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å API —Å–µ—Ä–≤–∏—Å–æ–º
cd IW02-Creating_a_Python_Script_to_Interact_with_an_API\lab02prep

# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ —à–∞–±–ª–æ–Ω–∞
cp sample.env .env
```

**–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞**
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤–∞—à API –∫–ª—é—á:
```
API_KEY=myapi123
```

**–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d
```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –æ—Ç–≤–µ—á–∞–µ—Ç
curl "http://localhost:8080/?currencies" -X POST -d "key=myapi123"
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: `{"error":"","data":["MDL","USD","EUR","RON","RUS","UAH"]}`

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è Python —Å–∫—Ä–∏–ø—Ç–∞

**–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ requests**
```bash
pip install requests
```

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**
```bash
python -c "import requests; print('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ requests —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞')"
```

### 3. –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

**–®–∞–≥ 1: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–∫—Ä–∏–ø—Ç–∞**
```bash
cd C:\Users\User\Desktop\Automation-and-Scripting\lab02
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞**
```bash
# –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
python currency_exchange_rate.py FROM_CURRENCY TO_CURRENCY DATE

# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
python currency_exchange_rate.py USD EUR 2025-01-01
python currency_exchange_rate.py EUR USD 2025-03-15
python currency_exchange_rate.py USD MDL 2025-06-01
```

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install requests

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd IW02-Creating_a_Python_Script_to_Interact_with_an_API\lab02prep
cp sample.env .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env: API_KEY=myapi123
docker-compose up -d

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd C:\Users\User\Desktop\Automation-and-Scripting\lab02
python currency_exchange_rate.py USD EUR 2025-01-01
```

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
=== Currency Exchange Rate Script ===
Parameters: USD -> EUR on 2025-01-01
Requesting rate: USD -> EUR for 2025-01-01

=== Exchange Rate ===
From: USD
To: EUR
Date: 2025-01-01
Rate: 1.0449967801462194
[SUCCESS] Data saved to: data/USD_EUR_2025-01-01.json

[SUCCESS] Operation completed successfully!
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **API —Å–µ—Ä–≤–∏—Å** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∫—Ä–∏–ø—Ç–∞
- **API –∫–ª—é—á** –≤ —Ñ–∞–π–ª–µ `.env` –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∫–ª—é—á–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –≤ —Å–∫—Ä–∏–ø—Ç–µ (`myapi123`)
- **–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å 2025-01-01 –ø–æ 2025-09-15
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã**: MDL, USD, EUR, RON, RUS, UAH

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ Docker**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω**: `curl "http://localhost:8080/?currencies" -X POST -d "key=myapi123"`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É Python –±–∏–±–ª–∏–æ—Ç–µ–∫**: `python -c "import requests"`
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ API –∫–ª—é—á–∞** –≤ —Ñ–∞–π–ª–µ `.env`

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ


## üìà –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- ‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ –°–∫—Ä–∏–ø—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

## üéØ –ò—Ç–æ–≥

–ó–∞–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –°–æ–∑–¥–∞–Ω —Ä–∞–±–æ—á–∏–π Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Web API, –∫–æ—Ç–æ—Ä—ã–π:
- –ü–æ–ª—É—á–∞–µ—Ç –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –ª–æ–≥–∏—Ä—É–µ—Ç –∏—Ö
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞–Ω–∏—è

## –í—ã–≤–æ–¥ 

–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã, —è –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å —Ç–µ–º, –∫–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å Web API —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ Python, –æ—Å–≤–µ–∂–∏–ª –≤ –ø–∞–º—è—Ç–∏, –∫–∞–∫ –ø–æ–¥–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Ä–∞–±–æ—Ç–∞—Ç—å —Å API, –ø–∏—Å–∞—Ç—å –∫–æ–¥ –¥–ª—è —ç—Ç–∏—Ö –∑–∞–¥–∞—á. –°—á–∏—Ç–∞—é –¥–∞–Ω–Ω—É—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—É—é —Ä–∞–±–æ—Ç—É –ø–æ–ª–µ–∑–Ω–æ–π –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è, –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.:)












